<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

{{ form_start(form, { 'attr': {'novalidate': 'novalidate'} }) }}


<div class="col-sm-10">
    <div class="form-group">
        {{ form_label(form.nom) }}
        {{ form_widget(form.nom, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.nom) }}
    </div>
    <div class="form-group">
        {{ form_label(form.email) }}
        {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.email) }}
    </div>
    <div class="form-group">
        {{ form_label(form.numtel) }}
        {{ form_widget(form.numtel, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.numtel) }}
    </div>
    <br>
    <div class="form-group">
        {{ form_label(form.status) }}
        {{ form_widget(form.status, {'attr': {'class': 'form-control', 'id': 'status-select' ,
        
        'onchange': 'myFunction(this.value)'
        }}) }}
        {{ form_errors(form.status) }}
    </div>
    <br>
    <div class="form-group" id="budget-field"  style="display: none;">
        {{ form_label(form.budget) }}
        {{ form_widget(form.budget, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.budget) }}
    </div>
    <div class="form-group" id="cause-field" style="display: none;">
        {{ form_label(form.cause) }}
        {{ form_widget(form.cause, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.cause) }}
    </div>
</div>

<button class="add-button">{{ button_label|default('Save') }}</button>
{{ form_end(form) }}

<script>
    function myFunction(value) {
     
        if (value == 'accepted') {
            document.getElementById('budget-field').style.display = 'block';
            document.getElementById('cause-field').style.display = 'none';
        } else if (value == 'rejected') {
            document.getElementById('cause-field').style.display = 'block';
            document.getElementById('budget-field').style.display = 'none';
        }  else {
            document.getElementById('budget-field').style.display = 'none';
            document.getElementById('cause-field').style.display = 'none';
        }
    }
</script>
